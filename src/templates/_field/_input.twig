{% import "_includes/forms" as forms %}

<div class="easyaddressfield-field" id="{{ name }}">
        {% set dragPinData %}
            data-default="true"
            data-lat="50.8791758"
            data-lng="4.6997922"
            data-zoom="8"
        {% endset %}
    <div class="form__row">
        {% if 'name' in fieldSettings.enabledFields  %}
        <div class="form__item">
            {{ forms.text({
                id: name ~ '-name',
                name: name ~ '[name]',
                placeholder: 'Name'|t('easy-address-field'),
                value: value ? value.name : null
            }) }}
        </div>
        {% endif %}
        <div class="form__item">
            {{ forms.text({
                id: name ~ '-street',
                name: name ~ '[street]',
                placeholder: 'Street'|t('easy-address-field'),
                value: value ? value.street : null
            }) }}
        </div>
        {% if 'street2' in fieldSettings.enabledFields  %}
        <div class="form__item">
            {{ forms.text({
                id: name ~ '-street2',
                name: name ~ '[street2]',
                placeholder: 'Street 2'|t('easy-address-field'),
                value: value ? value.street2 : null
            }) }}
        </div>
        {% endif %}

        <div class="form__item form__inline form--postalcode">
            {{ forms.text({
                id: name ~ '-postalCode',
                name: name ~ '[postalCode]',
                placeholder: 'Postal code'|t('easy-address-field'),
                value: value ? value.postalCode : null
            }) }}
        </div>
        <div class="form__item form__inline form--city {% if 'state' in fieldSettings.enabledFields  %}form--city-state{% endif %}">
            {{ forms.text({
                id: name ~ '-city',
                name: name ~ '[city]',
                placeholder: 'City'|t('easy-address-field'),
                value: value ? value.city : null
            }) }}
        </div>

        {% if 'state' in fieldSettings.enabledFields  %}
        <div class="form__item form__inline form--state">
            {{ forms.text({
                id: name ~ '-state',
                name: name ~ '[state]',
                placeholder: 'State'|t('easy-address-field'),
                value: value ? value.state : null
            }) }}
        </div>
        {% endif %}

        {% if 'country' in fieldSettings.enabledFields  %}
        <div class="form__item form--country">
            <div class="input ltr">
                <div class="select">
                    {% if (value is defined and value.country|length) %}
                        {% set selectedValue = value.country %}
                    {% else %}
                        {% set selectedValue = fieldSettings.defaultCountry %}
                    {% endif %}
                        <select id="{{ name ~ '-country' }}" class="fieldtoggle" name="{{ name ~ '[country]' }}" required>
                        {% for key, country in countries %}
                            <option value="{{ key }}" {% if selectedValue == key %}selected{% endif %} >{{ country }}</option>
                        {% endfor %}
                    </select>
                </div>
            </div>
        </div>
        {% else %}
            <input type="hidden" id="{{ name ~ '-country' }}" name="{{ name ~ '[country]' }}" i value="{{ (value|length and value.country|length) ? value.country : fieldSettings.defaultCountry }}">
        {% endif %}
    </div>

    <div class="form__row {% if not fieldSettings.showCoordinates %}visuallyhidden{% endif %}">
        <div class="form__item form__inline form--lat">
            {{ forms.text({
                id: name ~ '-latitude',
                name: name ~ '[latitude]',
                placeholder: 'Latitude'|t('easy-address-field'),
                value: value ? value.latitude : null
            }) }}
        </div>
        <div class="form__item form__inline form--long">
            {{ forms.text({
                id: name ~ '-longitude',
                name: name ~ '[longitude]',
                placeholder: 'Longitude'|t('easy-address-field'),
                value: value ? value.longitude : null
            }) }}
        </div>
    </div>
    <div style="color: #576575; cursor: pointer; display: inline-block;" class="inline">
            <div class="easyaddressfield-marker inline">
                <svg style="display: inline;" height="28" enable-background="new 0 0 26 26" id="Слой_1" version="1.1" viewBox="0 0 26 26" xml:space="preserve" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><g><path d="M24.9021606,21.0473633c0.0229492-0.0432129,0.0421753-0.0855103,0.0563354-0.1323242   c0.0135498-0.0444336,0.0206909-0.088562,0.0258179-0.1355591c0.0056152-0.0511475,0.0065308-0.1004639,0.0014038-0.1525879   c-0.0022583-0.0233154,0.005127-0.0452881,0.0006104-0.0687866l-1.8310547-9.4819336   c-0.0066528-0.0340576-0.0269165-0.0604248-0.0377197-0.0924072c-0.010498-0.0315552-0.0098267-0.0643921-0.0247803-0.0950928   c-0.0075684-0.0155029-0.0216675-0.0246582-0.0301514-0.0393677c-0.0272217-0.0478516-0.0612183-0.0872192-0.0975342-0.1273193   c-0.0292358-0.0321655-0.0559082-0.0645752-0.0897827-0.0908203c-0.0409546-0.0319824-0.0859985-0.053894-0.1328735-0.0767212   c-0.0407715-0.0198975-0.0791626-0.0401001-0.1227417-0.0523682c-0.0438843-0.0122681-0.0886841-0.0148926-0.1351318-0.0188599   c-0.053833-0.0049438-0.1057129-0.0080566-0.1601563-0.0009766c-0.0164185,0.0021362-0.0314941-0.003479-0.0480347-0.0003052   c-0.0328979,0.0063477-0.0581665,0.0263672-0.0891113,0.0366821c-0.0322876,0.0108032-0.06604,0.0101929-0.0974121,0.0258179   l-2.7524414,1.345459c0.4395142-0.8766479,0.7983398-1.9657593,0.7983398-3.2058105   c0-3.9213867-3.1787109-7.1137695-7.0927734-7.1342773c-0.0097656,0-0.0175781,0-0.0253906,0s-0.015625,0-0.0253906,0   c-3.9150391,0.0205078-7.09375,3.2128906-7.09375,7.1342773c0,1.2284546,0.3527222,2.30896,0.7872314,3.1819458   l-3.4337158,1.6784058c-0.0142822,0.007019-0.0227051,0.0200806-0.0363159,0.027832   c-0.0516968,0.0290527-0.0952148,0.0656128-0.1384888,0.1061401c-0.0292358,0.0274048-0.0584106,0.0525513-0.0826416,0.0838013   c-0.0309448,0.039978-0.0528564,0.0843506-0.0754395,0.1307983c-0.0216675,0.0441895-0.041748,0.0866699-0.0544434,0.1341553   c-0.0046387,0.0175171-0.0164185,0.0309448-0.0198975,0.0490112l-1.8310547,9.4819336   c-0.0045776,0.0238647,0.0028687,0.0462036,0.0006104,0.0699463c-0.005127,0.0510254-0.0041504,0.1002808,0.0014038,0.1520996   c0.0055542,0.0505371,0.0148315,0.0975952,0.0302124,0.1452026c0.0073853,0.0233154,0.0048218,0.0473022,0.0146484,0.0702515   c0.0126343,0.0294189,0.0331421,0.052002,0.0488892,0.0789185c0.013916,0.0238037,0.0262451,0.046875,0.0426636,0.0689697   c0.046814,0.0631714,0.100769,0.118042,0.1628418,0.1625366c0.0079956,0.0057983,0.0136108,0.0137329,0.0218506,0.019165   c0.0743408,0.0490723,0.1575317,0.0802612,0.2441406,0.1004028c0.0096436,0.0022583,0.0167236,0.0090332,0.0264893,0.0109253   c0.0478516,0.0090942,0.0947876,0.0133057,0.1407471,0.0134277c0.0006104,0,0.0012207,0.0002441,0.0018311,0.0002441   c0.0001221,0,0.0001831-0.000061,0.0003052-0.000061c0.0002441,0,0.0004272,0.000061,0.0006714,0.000061   c0.0962524,0,0.1879883-0.0219116,0.274353-0.0563354c0.0067749-0.0026245,0.013855-0.0013428,0.0205688-0.0042114   l6.730957-2.8847046L17,24.4072266c0.0056763,0.0020142,0.0113525,0.0010986,0.0170288,0.0029297   C17.09198,24.4347534,17.1699219,24.4501953,17.25,24.4501953c0.092041,0,0.1802979-0.0219116,0.2647095-0.0541382   c0.0102539-0.0038452,0.0209961-0.0020752,0.031189-0.0064087l7-3c0.022522-0.0096436,0.0369263-0.0285645,0.0579834-0.0401001   c0.0446777-0.0244141,0.0838623-0.052002,0.1220703-0.0843506c0.0371094-0.0313721,0.0704956-0.0629272,0.1004028-0.1002197   C24.8562012,21.1279297,24.8797607,21.0894165,24.9021606,21.0473633z M4.24646,14.7277222l3.2199707-1.5739136   l1.3627319,1.8533936l-0.5172119,5.0644531l-5.5574341,2.3817749L4.24646,14.7277222z M9.3131714,20.1036987l0.3980103-3.8969116   l2.689209,3.6574707c0.1416016,0.1923828,0.3916016,0.3056641,0.6298828,0.3056641s0.4628906-0.1137695,0.6044922-0.3056641   l2.3893433-3.2503662l0.6206055,6.0773926L9.3131714,20.1036987z M17.6513062,22.7119141l-0.7452393-7.2978516l0.7644653-1.039978   l4.1978149-2.052002l1.5307007,7.9265747L17.6513062,22.7119141z M13.0175781,3.0498047   c3.0996094,0.0068359,5.6181641,2.5317383,5.6181641,5.6342773c0,1.4643555-0.6523438,2.699707-1.2050781,3.484375   c-0.0019531,0.0024414-0.0039063,0.0043945-0.0058594,0.0068359l-4.4072266,5.9956055l-4.3916016-5.9731445   C8.6230469,12.1943359,8.6210938,12.190918,8.6181641,12.1875c-0.5566406-0.7841797-1.2197266-2.0283203-1.2197266-3.503418   C7.3984375,5.581543,9.9179688,3.0566406,13.0175781,3.0498047z" fill="#1D1D1B"/><path d="M13.0302734,11.847168c1.7412109,0,3.1582031-1.4189453,3.1582031-3.1630859   s-1.4169922-3.1630859-3.1582031-3.1630859c-1.7421875,0-3.1591797,1.4189453-3.1591797,3.1630859   S11.2880859,11.847168,13.0302734,11.847168z M13.0302734,6.5209961c1.1904297,0,2.1582031,0.9702148,2.1582031,2.1630859   s-0.9677734,2.1630859-2.1582031,2.1630859s-2.1591797-0.9702148-2.1591797-2.1630859S11.8398438,6.5209961,13.0302734,6.5209961z" fill="#1D1D1B"/></g></svg>
                <a href="javascript:;" id="{{ name }}-drag-pin-data" style="color: #4168cf; font-weight: bold;" >
                    {{ "Pick an address on the map"|t('easy-address-field') }}
                </a>
            </div>
    </div>
</div>
